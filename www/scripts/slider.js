const WholePageSlider=class{constructor(t={}){this.container=t.containerId?document.getElementById(t.containerId):document.body,this.sections=t.sectionClass?document.getElementsByClassName(t.sectionClass):document.getElementsByTagName("section"),this.pageClass=t.pageClass?t.pageClass:"page",this.pagesPerSection=[],this.currentPage=[],this.currentSection=0,this.isDragging=!1,this.draggingPercent=20,this.waitAnimation=!1,this.timeToAnimate=300,this.height=100,this.width=100,this.swipeStartDirection=null,this.swipeEndDirection=null,this.options={...t},this.translate={section:0,page:[]},this.touches={startX:null,startY:null,endX:null,endY:null,differenceX:null,differenceY:null},this.init(),this.setupEventListeners()}init(){const t=this.createElement("div",{className:"sectionButtonContainer"},this.container);for(let e=0;e<this.sections.length;e++){if(this.translate.page[e]=0,this.currentPage[e]=0,this.pagesPerSection[e]=this.sections[e].getElementsByClassName(this.pageClass),this.options.colors&&(this.sections[e].style.background=this.options.colors[e]?this.options.colors[e]:"white"),this.sections.length>1){const i=this.createElement("input",{type:"radio",name:"sectionScrollButton",id:`sectionId[${e}]`,value:e,onclick:function(t){if(this.waitAnimation)return t.preventDefault();this.switchAndTranslateSection(t)}.bind(this),checked:this.currentSection===e,style:{display:"none"}},t);this.createElement("label",{htmlFor:i.id},t)}if(this.pagesPerSection[e].length>1){const t=this.createElement("div",{id:`pageButtonContainer[${e}]`,className:"page_selection"},this.sections[e]);for(let i=0;i<this.pagesPerSection[e].length;i++)this.createElement("input",{type:"radio",id:`page[${e}][${i}]`,name:`pagination[${e}]`,value:i,checked:this.currentPage[i]===i,onclick:function(t){if(this.waitAnimation)return t.preventDefault();this.switchAndTranslatePage(t)}.bind(this),style:{display:"none"}},t),this.createElement("label",{htmlFor:`page[${e}][${i}]`},t);t.style.left=`calc(50% - ${t.getBoundingClientRect().width/2}px)`}}t.style.top=`calc(50% - ${t.getBoundingClientRect().height/2}px)`}switchAndTranslateSection(t){if(!this.sections||this.sections.length<1||this.waitAnimation)return;if(this.waitAnimation=!0,(t.deltaY>0||"down"===t)&&"up"!==this.swipeStartDirection&&this.currentSection<this.sections.length-1)this.currentSection++,this.translate.section-=this.height;else if((t.deltaY<0||"up"===t)&&"down"!==this.swipeStartDirection&&this.currentSection>0)this.currentSection--,this.translate.section+=this.height;else if("click"===t.type){const e=parseInt(t.target.value)-this.currentSection;this.currentSection=parseInt(t.target.value),this.translate.section=this.translate.section-this.height*e}else this.translate.section=100*Math.round(this.translate.section/100);const e=document.getElementById(`sectionId[${this.currentSection}]`);e&&(e.checked=!0),this.isDragging=!1,this.height=100;for(let t=0;t<this.sections.length;t++)this.sections[t].style.transform=`translateY(${this.translate.section}%)`;setTimeout(()=>{this.waitAnimation=!1},this.timeToAnimate)}switchAndTranslatePage(t){if(!this.sections||this.sections.length<1||this.waitAnimation)return;if("right"===t&&"left"!==this.swipeStartDirection&&this.currentPage[this.currentSection]<this.pagesPerSection[this.currentSection].length-1)this.currentPage[this.currentSection]++,this.translate.page[this.currentSection]-=this.width;else if("left"===t&&"right"!==this.swipeStartDirection&&this.currentPage[this.currentSection]>0)this.currentPage[this.currentSection]--,this.translate.page[this.currentSection]+=this.width;else if("click"===t.type){const e=parseInt(t.target.value)-this.currentPage[this.currentSection];this.currentPage[this.currentSection]=parseInt(t.target.value),this.translate.page[this.currentSection]=this.translate.page[this.currentSection]-this.width*e}else this.translate.page[this.currentSection]=100*Math.round(this.translate.page[this.currentSection]/100);this.isDragging=!1,this.width=100;const e=document.getElementById(`page[${this.currentSection}][${this.currentPage[this.currentSection]}]`);e&&(e.checked=!0);for(let t=0;t<this.pagesPerSection[this.currentSection].length;t++)this.pagesPerSection[this.currentSection][t].style.transform=`translateX(${this.translate.page[this.currentSection]}%)`;setTimeout(()=>{this.waitAnimation=!1},this.timeToAnimate)}draggingEffect(){if(this.isDragging){if(this.swipeStartDirection=this.swipeEndDirection,("left"===this.swipeStartDirection||"right"===this.swipeStartDirection)&&!this.waitAnimation){const t=this.pagesPerSection[this.currentSection];"right"===this.swipeStartDirection?(this.width-=this.draggingPercent,this.translate.page[this.currentSection]-=this.draggingPercent):"left"===this.swipeStartDirection&&(this.width-=this.draggingPercent,this.translate.page[this.currentSection]+=this.draggingPercent);for(let e=0;e<t.length;e++)t[e].style.transform=`translateX(${this.translate.page[this.currentSection]}%)`}if(("up"===this.swipeStartDirection||"down"===this.swipeStartDirection)&&!this.waitAnimation){"down"===this.swipeStartDirection?(this.height-=this.draggingPercent,this.translate.section-=this.draggingPercent):"up"===this.swipeStartDirection&&(this.height-=this.draggingPercent,this.translate.section+=this.draggingPercent);for(let t=0;t<this.sections.length;t++)this.sections[t].style.transform=`translateY(${this.translate.section}%)`}this.isDragging=!1}}getTouchOrClick(t){return t.touches?t.touches[0]:t}touchStart(t){this.isDragging=!0,this.touches.startX=this.getTouchOrClick(t).clientX,this.touches.startY=this.getTouchOrClick(t).clientY}touchMove(t){this.touches.startX&&this.touches.startY&&(this.touches.endX=this.getTouchOrClick(t).clientX,this.touches.endY=this.getTouchOrClick(t).clientY,this.touches.differenceX=this.touches.startX-this.touches.endX,this.touches.differenceY=this.touches.startY-this.touches.endY,Math.abs(this.touches.differenceX)>Math.abs(this.touches.differenceY)?this.swipeEndDirection=this.touches.differenceX>0?"right":"left":this.swipeEndDirection=this.touches.differenceY>0?"down":"up",this.draggingEffect())}touchEnd(){this.swipeEndDirection&&(this.switchAndTranslatePage(this.swipeEndDirection),this.switchAndTranslateSection(this.swipeEndDirection)),this.isDragging=!1,this.touches.startX=null,this.touches.startY=null,this.swipeStartDirection=null,this.swipeEndDirection=null}swipeWithKeyboard(t){37===t.keyCode||"ArrowLeft"===t.code?this.swipeEndDirection="left":38===t.keyCode||"ArrowUp"===t.code?this.swipeEndDirection="up":39===t.keyCode||"ArrowRight"===t.code?this.swipeEndDirection="right":40!==t.keyCode&&"ArrowDown"!==t.code||(this.swipeEndDirection="down"),this.swipeEndDirection&&!this.waitAnimation&&(this.switchAndTranslatePage(this.swipeEndDirection),this.switchAndTranslateSection(this.swipeEndDirection))}createElement(t,e,i){try{const s="object"==typeof i?i:document.getElementById(i),n=document.createElement(t);for(const t in e)if("style"===t)for(const i in e[t])n.style[i]=e[t][i];else"onclick"===t?n.addEventListener("click",e[t]):n[t]=e[t];return s.appendChild(n),n}catch(t){this.handleError("Unable to create buttons",t)}}setupEventListeners(){window.onwheel=this.switchAndTranslateSection.bind(this),window.ontouchstart=this.touchStart.bind(this),window.ontouchmove=this.touchMove.bind(this),window.ontouchend=this.touchEnd.bind(this),window.onkeyup=this.swipeWithKeyboard.bind(this)}handleError(t,e){console.warn(`${t}: `,e)}};